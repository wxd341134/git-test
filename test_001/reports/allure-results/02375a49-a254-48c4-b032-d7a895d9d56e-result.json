{"name": "test_personal_center_workflow", "status": "broken", "statusDetails": {"message": "ValueError: 未输入验证码", "trace": "self = <FgAI.test_001.test_UserCenter.TestPersonalCenter object at 0x000002AE2EAF3C40>\n\n    @allure.feature(\"个人中心\")\n    @allure.story(\"完整测试流程\")\n    def test_personal_center_workflow(self):\n        \"\"\"测试个人中心完整流程\"\"\"\n        try:\n            # 登录\n            self.base_page = BasePage(self.driver)\n            self.login_page = LoginPage(self.driver)\n            # 执行登录\n>           self.login_page.login(\"wxdfg\", \"wxd341134@\")\n\ntest_UserCenter.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.login_page.LoginPage object at 0x000002AE2EB1E970>\nusername = 'wxdfg', password = 'wxd341134@'\n\n    def login(self, username=None, password=None):\n        \"\"\"登录系统\"\"\"\n        # 使用默认值或传入的参数\n        username = username or USERNAME\n        password = password or PASSWORD\n    \n        self.logger.info(f\"开始登录系统，用户名: {username}\")\n    \n        with allure.step(f\"打开登录页面: {BASE_URL}\"):\n            self.driver.get(BASE_URL)\n            time.sleep(1)  # 等待页面加载\n            self.take_screenshot(\"login_page\")\n    \n        # 输入用户名 - 逐个字符输入以模拟真实用户\n        with allure.step(f\"输入用户名: {username}\"):\n            self.logger.info(\"开始输入用户名...\")\n            element = self.find_element(self.username_input)\n            element.clear()\n            for char in username:\n                element.send_keys(char)\n                time.sleep(0.2)  # 每个字符之间暂停0.2秒\n            time.sleep(0.5)\n    \n        # 输入密码 - 逐个字符输入以模拟真实用户\n        with allure.step(\"输入密码\"):\n            self.logger.info(\"开始输入密码...\")\n            element = self.find_element(self.password_input)\n            element.clear()\n            for char in password:\n                element.send_keys(char)\n                time.sleep(0.2)  # 每个字符之间暂停0.2秒\n            time.sleep(0.5)\n    \n        # 获取验证码图片并等待手动输入\n        with allure.step(\"输入验证码\"):\n            self.find_element(self.captcha_img)\n            self.logger.info(\"请查看浏览器中的验证码图片\")\n            self.take_screenshot(\"captcha_image\")\n    \n            # 使用tkinter对话框获取验证码输入\n            root = tk.Tk()\n            root.withdraw()  # 隐藏主窗口\n    \n            # 将浏览器窗口置顶\n            self.driver.execute_script(\"window.focus();\")\n            time.sleep(0.5)\n    \n            # 显示对话框获取验证码\n            captcha_text = simpledialog.askstring(\"验证码输入\", \"请查看浏览器中的验证码并输入:\")\n    \n            if captcha_text:\n                # 输入验证码 - 逐个字符输入\n                element = self.find_element(self.captcha_input)\n                element.clear()\n                for char in captcha_text:\n                    element.send_keys(char)\n                    time.sleep(0.2)\n                time.sleep(0.5)\n                self.logger.info(f\"验证码已输入: {captcha_text}\")\n            else:\n                self.logger.error(\"未输入验证码，登录失败\")\n>               raise ValueError(\"未输入验证码\")\nE               ValueError: 未输入验证码\n\n..\\pages\\login_page.py:88: ValueError"}, "description": "测试个人中心完整流程", "steps": [{"name": "打开登录页面: http://192.168.2.176:86/#/case/index", "status": "passed", "attachments": [{"name": "login_page", "source": "c4086d6d-bcc1-4912-a0b9-1ac9221c0731-attachment.png", "type": "image/png"}], "start": 1742890173701, "stop": 1742890175095}, {"name": "输入用户名: wxdfg", "status": "passed", "start": 1742890175095, "stop": 1742890176801}, {"name": "输入密码", "status": "passed", "start": 1742890176801, "stop": 1742890179630}, {"name": "输入验证码", "status": "broken", "statusDetails": {"message": "ValueError: 未输入验证码\n", "trace": "  File \"E:\\AutoTest\\FgAI\\pages\\login_page.py\", line 88, in login\n    raise ValueError(\"未输入验证码\")\n"}, "attachments": [{"name": "captcha_image", "source": "d181236f-78ef-4bda-bb01-39fef15e87e0-attachment.png", "type": "image/png"}], "start": 1742890179630, "stop": 1742890190344}], "attachments": [{"name": "失败截图", "source": "f4535256-34e6-4d59-9d0e-a4922328468a-attachment.png", "type": "image/png"}, {"name": "log", "source": "6a1e96c0-f801-42c2-b246-84acf03050cb-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "1dcda983-f37c-4d36-abdc-4e47a69833e9-attachment.txt", "type": "text/plain"}], "start": 1742890173701, "stop": 1742890190426, "uuid": "b153b400-0e8a-4d75-8859-99508f9ba549", "historyId": "1411408b10fd896b372e133dea5137f8", "testCaseId": "1411408b10fd896b372e133dea5137f8", "fullName": "test_001.test_UserCenter.TestPersonalCenter#test_personal_center_workflow", "labels": [{"name": "story", "value": "完整测试流程"}, {"name": "feature", "value": "个人中心"}, {"name": "parentSuite", "value": "test_001"}, {"name": "suite", "value": "test_UserCenter"}, {"name": "subSuite", "value": "TestPersonalCenter"}, {"name": "host", "value": "DESKTOP-3S8JLNL"}, {"name": "thread", "value": "6796-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_001.test_UserCenter"}]}