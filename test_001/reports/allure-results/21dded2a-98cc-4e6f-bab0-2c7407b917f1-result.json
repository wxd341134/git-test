{"name": "测试文本选择和AI智能问答", "status": "broken", "statusDetails": {"message": "AttributeError: type object 'TextSelectionUtils' has no attribute 'select_text_with_position'", "trace": "self = <FgAI.test_001.test_read_notes.TestReadNotes object at 0x000001971F31BDF0>\n\n    @allure.story(\"AI智能问答功能\")\n    @allure.title(\"测试文本选择和AI智能问答\")\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.flaky(reruns=2, reruns_delay=2)\n    def test_select_text_and_ai_qa(self):\n        \"\"\"\n        测试文本选择和AI智能问答功能：\n        1. 模拟鼠标滑动选中指定文本\n        2. 点击选中的文本\n        3. 等待功能弹框出现\n        4. 点击AI智能问答\n        5. 等待5秒\n        6. 关闭弹框\n        \"\"\"\n        logger.info(\"开始测试选中文本并使用AI智能问答功能...\")\n        try:\n            with allure.step(\"选中文本并调用AI智能问答\"):\n>               self.read_notes.select_text_and_use_ai_qa_v2()\n\ntest_read_notes.py:192: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.read_notes_utils.ReadNotesUtils object at 0x000001971F340880>\ntext_to_select = '全国银行间同业拆借'\n\n    @allure.step(\"选中文本并使用AI智能问答\")\n    def select_text_and_use_ai_qa_v2(self, text_to_select=\"全国银行间同业拆借\"):\n        \"\"\"\n        选中指定文本并使用AI智能问答功能（改进版）\n        Args:\n            text_to_select: 要选择的文本\n        \"\"\"\n        try:\n            logger.info(f\"开始执行选中文本并使用AI智能问答: {text_to_select}\")\n    \n            # 1. 切换到iframe并选中文本\n            self.switch_to_notes_frame()\n    \n            # 2. 使用TextSelectionUtils选中文本\n>           position_info = TextSelectionUtils.select_text_with_position(\n                self.driver,\n                text_to_select\n            )\nE           AttributeError: type object 'TextSelectionUtils' has no attribute 'select_text_with_position'\n\n..\\common\\read_notes_utils.py:354: AttributeError"}, "description": "\n        测试文本选择和AI智能问答功能：\n        1. 模拟鼠标滑动选中指定文本\n        2. 点击选中的文本\n        3. 等待功能弹框出现\n        4. 点击AI智能问答\n        5. 等待5秒\n        6. 关闭弹框\n        ", "steps": [{"name": "选中文本并调用AI智能问答", "status": "broken", "statusDetails": {"message": "AttributeError: type object 'TextSelectionUtils' has no attribute 'select_text_with_position'\n", "trace": "  File \"E:\\AutoTest\\FgAI\\test_001\\test_read_notes.py\", line 192, in test_select_text_and_ai_qa\n    self.read_notes.select_text_and_use_ai_qa_v2()\n  File \"D:\\Python39\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"E:\\AutoTest\\FgAI\\common\\read_notes_utils.py\", line 354, in select_text_and_use_ai_qa_v2\n    position_info = TextSelectionUtils.select_text_with_position(\n"}, "steps": [{"name": "选中文本并使用AI智能问答", "status": "broken", "statusDetails": {"message": "AttributeError: type object 'TextSelectionUtils' has no attribute 'select_text_with_position'\n", "trace": "  File \"D:\\Python39\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"E:\\AutoTest\\FgAI\\common\\read_notes_utils.py\", line 354, in select_text_and_use_ai_qa_v2\n    position_info = TextSelectionUtils.select_text_with_position(\n"}, "attachments": [{"name": "操作失败截图", "source": "252a0071-7eab-4c12-9636-990d8bda0d1f-attachment.png", "type": "image/png"}], "parameters": [{"name": "text_to_select", "value": "'全国银行间同业拆借'"}], "start": 1744856222841, "stop": 1744856223996}], "start": 1744856222841, "stop": 1744856224017}], "attachments": [{"name": "AI智能问答失败", "source": "827f83d5-5fcd-4af2-875f-d1144efd4e3d-attachment.png", "type": "image/png"}, {"name": "log", "source": "2e70d729-4d45-4638-ad02-245b33430ce6-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "973a2216-1d34-43eb-89ad-8243730eb706-attachment.txt", "type": "text/plain"}], "start": 1744856222841, "stop": 1744856224115, "uuid": "de7be9ca-67f5-474f-a2cd-a8eaf6ad6909", "historyId": "c796760a9521c212faaf66c5877aa85e", "testCaseId": "c796760a9521c212faaf66c5877aa85e", "fullName": "test_001.test_read_notes.TestReadNotes#test_select_text_and_ai_qa", "labels": [{"name": "feature", "value": "阅卷笔记模块"}, {"name": "story", "value": "AI智能问答功能"}, {"name": "severity", "value": "normal"}, {"name": "epic", "value": "案件管理系统"}, {"name": "tag", "value": "flaky(reruns=2, reruns_delay=2)"}, {"name": "parentSuite", "value": "test_001"}, {"name": "suite", "value": "test_read_notes"}, {"name": "subSuite", "value": "TestReadNotes"}, {"name": "host", "value": "DESKTOP-3S8JLNL"}, {"name": "thread", "value": "22248-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_001.test_read_notes"}]}